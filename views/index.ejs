<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>TO DO</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
  </head>
  <body>
    <h2>Tasks to Do:</h2>
  
    <form action="/addTask" method="post">
      <label for="taskname">Task name:</label>
      <input type="text" id="taskname" name="taskname"><br><br>
      <button type="submit">Add Task</button>
    </form>

    <h3>Task List:</h3>
    <ul id="taskList">
      <% for(let task of tasks) { %>
        <li>
          <%= task.tasks %>
          <form id="deleteForm_<%= task._id %>" action="/deleteTask/<%= task._id %>" method="post" style="display:inline;">
            <button type="button" onclick="confirmDelete('<%= task._id %>')">Delete</button>
          </form>
        </li>
      <% } %>
    </ul>
    <script>
      function confirmDelete(taskId) {
        var confirmDelete = confirm("Are you sure you want to delete?");
        if (confirmDelete) {
          // If the user clicks "OK" in the confirmation dialog, submit the form
          document.getElementById('deleteForm_' + taskId).submit();
        }
      }
    </script>
  </body>
</html>
